import{_ as V,a as b,n as ae,i as N,b as F,t as ie,f as oe,d as L,e as U,s as ue,h as ce,k as x,S as le,l as k,m as de,o as fe,R as S,p as he,q as G,j as $,v as pe,A as ve,G as j,w as me,r as c,c as ge}from"./index-Dou8GVso.js";var K=function(r){V(a,r);function a(s,t){var e;return e=r.call(this)||this,e.client=s,e.options=t,e.trackedProps=[],e.selectError=null,e.bindMethods(),e.setOptions(t),e}var n=a.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),B(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return O(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return O(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(t,e){var o=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var u=this.hasListeners();u&&D(this.currentQuery,i,this.options,o)&&this.executeFetch(),this.updateResult(e),u&&(this.currentQuery!==i||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();u&&(this.currentQuery!==i||this.options.enabled!==o.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},n.getOptimisticResult=function(t){var e=this.client.defaultQueryObserverOptions(t),o=this.client.getQueryCache().build(this.client,e);return this.createResult(o,e)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(t,e){var o=this,i={},u=function(f){o.trackedProps.includes(f)||o.trackedProps.push(f)};return Object.keys(t).forEach(function(l){Object.defineProperty(i,l,{configurable:!1,enumerable:!0,get:function(){return u(l),t[l]}})}),(e.useErrorBoundary||e.suspense)&&u("error"),i},n.getNextResult=function(t){var e=this;return new Promise(function(o,i){var u=e.subscribe(function(l){l.isFetching||(u(),l.isError&&(t!=null&&t.throwOnError)?i(l.error):o(l))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(t){return this.fetch(b({},t,{meta:{refetchPage:t==null?void 0:t.refetchPage}}))},n.fetchOptimistic=function(t){var e=this,o=this.client.defaultQueryObserverOptions(t),i=this.client.getQueryCache().build(this.client,o);return i.fetch().then(function(){return e.createResult(i,o)})},n.fetch=function(t){var e=this;return this.executeFetch(t).then(function(){return e.updateResult(),e.currentResult})},n.executeFetch=function(t){this.updateQuery();var e=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(ae)),e},n.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!(N||this.currentResult.isStale||!F(this.options.staleTime))){var e=ie(this.currentResult.dataUpdatedAt,this.options.staleTime),o=e+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},o)}},n.computeRefetchInterval=function(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1},n.updateRefetchInterval=function(t){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!(N||this.options.enabled===!1||!F(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(e.options.refetchIntervalInBackground||oe.isFocused())&&e.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(t,e){var o=this.currentQuery,i=this.options,u=this.currentResult,l=this.currentResultState,f=this.currentResultOptions,p=t!==o,h=p?t.state:this.currentQueryInitialState,m=p?this.currentResult:this.previousQueryResult,d=t.state,R=d.dataUpdatedAt,P=d.error,w=d.errorUpdatedAt,C=d.isFetching,v=d.status,T=!1,A=!1,g;if(e.optimisticResults){var M=this.hasListeners(),re=!M&&B(t,e),ne=M&&D(t,o,e,i);(re||ne)&&(C=!0,R||(v="loading"))}if(e.keepPreviousData&&!d.dataUpdateCount&&(m!=null&&m.isSuccess)&&v!=="error")g=m.data,R=m.dataUpdatedAt,v=m.status,T=!0;else if(e.select&&typeof d.data<"u")if(u&&d.data===(l==null?void 0:l.data)&&e.select===this.selectFn)g=this.selectResult;else try{this.selectFn=e.select,g=e.select(d.data),e.structuralSharing!==!1&&(g=L(u==null?void 0:u.data,g)),this.selectResult=g,this.selectError=null}catch(E){U().error(E),this.selectError=E}else g=d.data;if(typeof e.placeholderData<"u"&&typeof g>"u"&&(v==="loading"||v==="idle")){var y;if(u!=null&&u.isPlaceholderData&&e.placeholderData===(f==null?void 0:f.placeholderData))y=u.data;else if(y=typeof e.placeholderData=="function"?e.placeholderData():e.placeholderData,e.select&&typeof y<"u")try{y=e.select(y),e.structuralSharing!==!1&&(y=L(u==null?void 0:u.data,y)),this.selectError=null}catch(E){U().error(E),this.selectError=E}typeof y<"u"&&(v="success",g=y,A=!0)}this.selectError&&(P=this.selectError,g=this.selectResult,w=Date.now(),v="error");var se={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:g,dataUpdatedAt:R,error:P,errorUpdatedAt:w,failureCount:d.fetchFailureCount,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>h.dataUpdateCount||d.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&v!=="loading",isLoadingError:v==="error"&&d.dataUpdatedAt===0,isPlaceholderData:A,isPreviousData:T,isRefetchError:v==="error"&&d.dataUpdatedAt!==0,isStale:Q(t,e),refetch:this.refetch,remove:this.remove};return se},n.shouldNotifyListeners=function(t,e){if(!e)return!0;var o=this.options,i=o.notifyOnChangeProps,u=o.notifyOnChangePropsExclusions;if(!i&&!u||i==="tracked"&&!this.trackedProps.length)return!0;var l=i==="tracked"?this.trackedProps:i;return Object.keys(t).some(function(f){var p=f,h=t[p]!==e[p],m=l==null?void 0:l.some(function(R){return R===f}),d=u==null?void 0:u.some(function(R){return R===f});return h&&!d&&(!l||m)})},n.updateResult=function(t){var e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ue(this.currentResult,e)){var o={cache:!0};(t==null?void 0:t.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,e)&&(o.listeners=!0),this.notify(b({},o,t))}},n.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))}},n.onQueryUpdate=function(t){var e={};t.type==="success"?e.onSuccess=!0:t.type==="error"&&!ce(t.error)&&(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()},n.notify=function(t){var e=this;x.batch(function(){t.onSuccess?(e.options.onSuccess==null||e.options.onSuccess(e.currentResult.data),e.options.onSettled==null||e.options.onSettled(e.currentResult.data,null)):t.onError&&(e.options.onError==null||e.options.onError(e.currentResult.error),e.options.onSettled==null||e.options.onSettled(void 0,e.currentResult.error)),t.listeners&&e.listeners.forEach(function(o){o(e.currentResult)}),t.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})})},a}(le);function be(r,a){return a.enabled!==!1&&!r.state.dataUpdatedAt&&!(r.state.status==="error"&&a.retryOnMount===!1)}function B(r,a){return be(r,a)||r.state.dataUpdatedAt>0&&O(r,a,a.refetchOnMount)}function O(r,a,n){if(a.enabled!==!1){var s=typeof n=="function"?n(r):n;return s==="always"||s!==!1&&Q(r,a)}return!1}function D(r,a,n,s){return n.enabled!==!1&&(r!==a||s.enabled===!1)&&(!n.suspense||r.state.status!=="error")&&Q(r,n)}function Q(r,a){return r.isStaleByTime(a.staleTime)}var Re=function(r){V(a,r);function a(s,t){return r.call(this,s,t)||this}var n=a.prototype;return n.bindMethods=function(){r.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},n.setOptions=function(t,e){r.prototype.setOptions.call(this,b({},t,{behavior:k()}),e)},n.getOptimisticResult=function(t){return t.behavior=k(),r.prototype.getOptimisticResult.call(this,t)},n.fetchNextPage=function(t){var e;return this.fetch({cancelRefetch:(e=t==null?void 0:t.cancelRefetch)!=null?e:!0,throwOnError:t==null?void 0:t.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:t==null?void 0:t.pageParam}}})},n.fetchPreviousPage=function(t){var e;return this.fetch({cancelRefetch:(e=t==null?void 0:t.cancelRefetch)!=null?e:!0,throwOnError:t==null?void 0:t.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:t==null?void 0:t.pageParam}}})},n.createResult=function(t,e){var o,i,u,l,f,p,h=t.state,m=r.prototype.createResult.call(this,t,e);return b({},m,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:de(e,(o=h.data)==null?void 0:o.pages),hasPreviousPage:fe(e,(i=h.data)==null?void 0:i.pages),isFetchingNextPage:h.isFetching&&((u=h.fetchMeta)==null||(l=u.fetchMore)==null?void 0:l.direction)==="forward",isFetchingPreviousPage:h.isFetching&&((f=h.fetchMeta)==null||(p=f.fetchMore)==null?void 0:p.direction)==="backward"})},a}(K);function ye(){var r=!1;return{clearReset:function(){r=!1},reset:function(){r=!0},isReset:function(){return r}}}var $e=S.createContext(ye()),Se=function(){return S.useContext($e)};function Ee(r,a,n){return typeof a=="function"?a.apply(void 0,n):typeof a=="boolean"?a:!!r}function H(r,a){var n=S.useRef(!1),s=S.useState(0),t=s[1],e=he(),o=Se(),i=e.defaultQueryObserverOptions(r);i.optimisticResults=!0,i.onError&&(i.onError=x.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=x.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=x.batchCalls(i.onSettled)),i.suspense&&(typeof i.staleTime!="number"&&(i.staleTime=1e3),i.cacheTime===0&&(i.cacheTime=1)),(i.suspense||i.useErrorBoundary)&&(o.isReset()||(i.retryOnMount=!1));var u=S.useState(function(){return new a(e,i)}),l=u[0],f=l.getOptimisticResult(i);if(S.useEffect(function(){n.current=!0,o.clearReset();var p=l.subscribe(x.batchCalls(function(){n.current&&t(function(h){return h+1})}));return l.updateResult(),function(){n.current=!1,p()}},[o,l]),S.useEffect(function(){l.setOptions(i,{listeners:!1})},[i,l]),i.suspense&&f.isLoading)throw l.fetchOptimistic(i).then(function(p){var h=p.data;i.onSuccess==null||i.onSuccess(h),i.onSettled==null||i.onSettled(h,null)}).catch(function(p){o.clearReset(),i.onError==null||i.onError(p),i.onSettled==null||i.onSettled(void 0,p)});if(f.isError&&!o.isReset()&&!f.isFetching&&Ee(i.suspense,i.useErrorBoundary,[f.error,l.getCurrentQuery()]))throw f.error;return i.notifyOnChangeProps==="tracked"&&(f=l.trackResult(f,i)),f}function xe(r,a,n){var s=G(r,a,n);return H(s,K)}function q(r,a,n){var s=G(r,a,n);return H(s,Re)}class Pe extends S.Component{constructor(a){super(a),this.state={error:null}}static getDerivedStateFromError(a){return{error:a}}render(){var a;return this.state.error?this.props.errorComponent?this.props.errorComponent:$.jsx("div",{className:"bg-red-100",children:$.jsxs("div",{className:"container m-auto pb-20 pl-3 pr-3 pt-20 text-red-950",children:[$.jsx("p",{className:"text-2xl font-bold",children:"There seems to be a problem:"}),$.jsx("p",{className:"text-xl",children:(a=this.state.error.stack)==null?void 0:a.split("Error:")[1].split(`
`)[0]}),this.props.optionalMessage&&$.jsx("div",{className:"mt-10 text-right text-lg",dangerouslySetInnerHTML:{__html:this.props.optionalMessage}})]})}):this.props.children}}const Be=(r,a,n)=>s=>$.jsx(Pe,{errorComponent:a,optionalMessage:n,children:$.jsx(r,{...s})}),W=pe.create({baseURL:ve,headers:{"Content-Type":"application/json",Authorization:j?"Bearer "+j:void 0}}),z=20,Z=({pageParam:r=1,url:a,params:n})=>W.get(a,{params:{page:r,per_page:z,...n}}).then(s=>s.data),J=(r,a,n)=>{const s=a.length*z,t=n||r.total_count;if(s<t)return a.length+1},De=r=>q(["users",r],a=>Z({...a,url:"/search/users",params:{q:`${r} in:login in:name`}}),{getNextPageParam:(a,n)=>J(a,n,a.total_count),select:a=>a,enabled:!!r}),Ve=r=>xe(["user",r],async()=>W.get(`/users/${r}`),{enabled:!!r}),Ge=({login:r,path:a,count:n})=>q(["related-details",r,a],s=>Z({...s,url:`/users/${r}/${a}`}),{getNextPageParam:(s,t)=>J(s,t,n),select:s=>s,enabled:!!r}),Ke=({error:r})=>$.jsx("div",{className:"py-20 text-center font-bold text-gray-600",children:me(r)});function Ce(r,a=[]){let n=[];function s(e,o){const i=c.createContext(o),u=n.length;n=[...n,o];function l(p){const{scope:h,children:m,...d}=p,R=(h==null?void 0:h[r][u])||i,P=c.useMemo(()=>d,Object.values(d));return c.createElement(R.Provider,{value:P},m)}function f(p,h){const m=(h==null?void 0:h[r][u])||i,d=c.useContext(m);if(d)return d;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${e}\``)}return l.displayName=e+"Provider",[l,f]}const t=()=>{const e=n.map(o=>c.createContext(o));return function(i){const u=(i==null?void 0:i[r])||e;return c.useMemo(()=>({[`__scope${r}`]:{...i,[r]:u}}),[i,u])}};return t.scopeName=r,[s,Oe(t,...a)]}function Oe(...r){const a=r[0];if(r.length===1)return a;const n=()=>{const s=r.map(t=>({useScope:t(),scopeName:t.scopeName}));return function(e){const o=s.reduce((i,{useScope:u,scopeName:l})=>{const p=u(e)[`__scope${l}`];return{...i,...p}},{});return c.useMemo(()=>({[`__scope${a.scopeName}`]:o}),[o])}};return n.scopeName=a.scopeName,n}function Ie(r){const a=c.useRef(r);return c.useEffect(()=>{a.current=r}),c.useMemo(()=>(...n)=>{var s;return(s=a.current)===null||s===void 0?void 0:s.call(a,...n)},[])}const X=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{};function Qe(r,a){typeof r=="function"?r(a):r!=null&&(r.current=a)}function _e(...r){return a=>r.forEach(n=>Qe(n,a))}const Y=c.forwardRef((r,a)=>{const{children:n,...s}=r,t=c.Children.toArray(n),e=t.find(Te);if(e){const o=e.props.children,i=t.map(u=>u===e?c.Children.count(o)>1?c.Children.only(null):c.isValidElement(o)?o.props.children:null:u);return c.createElement(I,b({},s,{ref:a}),c.isValidElement(o)?c.cloneElement(o,void 0,i):null)}return c.createElement(I,b({},s,{ref:a}),n)});Y.displayName="Slot";const I=c.forwardRef((r,a)=>{const{children:n,...s}=r;return c.isValidElement(n)?c.cloneElement(n,{...Ae(s,n.props),ref:a?_e(a,n.ref):n.ref}):c.Children.count(n)>1?c.Children.only(null):null});I.displayName="SlotClone";const we=({children:r})=>c.createElement(c.Fragment,null,r);function Te(r){return c.isValidElement(r)&&r.type===we}function Ae(r,a){const n={...a};for(const s in a){const t=r[s],e=a[s];/^on[A-Z]/.test(s)?t&&e?n[s]=(...i)=>{e(...i),t(...i)}:t&&(n[s]=t):s==="style"?n[s]={...t,...e}:s==="className"&&(n[s]=[t,e].filter(Boolean).join(" "))}return{...r,...n}}const Me=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_=Me.reduce((r,a)=>{const n=c.forwardRef((s,t)=>{const{asChild:e,...o}=s,i=e?Y:a;return c.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),c.createElement(i,b({},o,{ref:t}))});return n.displayName=`Primitive.${a}`,{...r,[a]:n}},{}),ee="Avatar",[Ne,He]=Ce(ee),[Fe,te]=Ne(ee),qe=c.forwardRef((r,a)=>{const{__scopeAvatar:n,...s}=r,[t,e]=c.useState("idle");return c.createElement(Fe,{scope:n,imageLoadingStatus:t,onImageLoadingStatusChange:e},c.createElement(_.span,b({},s,{ref:a})))}),Le="AvatarImage",We=c.forwardRef((r,a)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:t=()=>{},...e}=r,o=te(Le,n),i=ke(s),u=Ie(l=>{t(l),o.onImageLoadingStatusChange(l)});return X(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?c.createElement(_.img,b({},e,{ref:a,src:s})):null}),Ue="AvatarFallback",ze=c.forwardRef((r,a)=>{const{__scopeAvatar:n,delayMs:s,...t}=r,e=te(Ue,n),[o,i]=c.useState(s===void 0);return c.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>i(!0),s);return()=>window.clearTimeout(u)}},[s]),o&&e.imageLoadingStatus!=="loaded"?c.createElement(_.span,b({},t,{ref:a})):null});function ke(r){const[a,n]=c.useState("idle");return X(()=>{if(!r){n("error");return}let s=!0;const t=new window.Image,e=o=>()=>{s&&n(o)};return n("loading"),t.onload=e("loaded"),t.onerror=e("error"),t.src=r,()=>{s=!1}},[r]),a}function Ze({className:r,...a}){return $.jsx("div",{className:ge("animate-pulse rounded-md bg-gray-200 dark:bg-neutral-800",r),...a})}export{qe as $,Ke as E,Ze as S,We as a,ze as b,Y as c,Ge as d,Ve as e,De as u,Be as w};
